
--- a/Mms/smali/com/android/mms/data/a.smali
+++ b/Mms/smali/com/android/mms/data/a.smali
@@ -4946,6 +4946,10 @@
 
     move-result-object v1
 
+    invoke-static {v1}, Lcom/android/mms/theos0o/GsmEncoding;->seqToGSM(Ljava/lang/CharSequence;)Ljava/lang/String;
+
+    move-result-object v1
+
     invoke-static {v1, v0}, Landroid/telephony/SmsMessage;->calculateLength(Ljava/lang/CharSequence;Z)[I
 
     move-result-object v1

--- a/Mms/smali/com/android/mms/transaction/q.smali
+++ b/Mms/smali/com/android/mms/transaction/q.smali
@@ -115,6 +115,12 @@
     .line 77
     iput-object p3, p0, Lcom/android/mms/transaction/q;->oc:Ljava/lang/String;
 
+    invoke-static {p3}, Lcom/android/mms/theos0o/GsmEncoding;->textToGSM(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v2
+
+    iput-object v2, p0, Lcom/android/mms/transaction/q;->oc:Ljava/lang/String;
+
     .line 78
     if-eqz p2, :cond_0
 

--- a/Mms/smali/com/android/mms/ui/de.smali
+++ b/Mms/smali/com/android/mms/ui/de.smali
@@ -5468,7 +5468,11 @@
     const/4 v1, 0x0
 
     .line 1267
-    invoke-static {p0, v1}, Landroid/telephony/SmsMessage;->calculateLength(Ljava/lang/CharSequence;Z)[I
+    invoke-static {p0}, Lcom/android/mms/theos0o/GsmEncoding;->seqToGSM(Ljava/lang/CharSequence;)Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0, v1}, Landroid/telephony/SmsMessage;->calculateLength(Ljava/lang/CharSequence;Z)[I
 
     move-result-object v0
 

--- a/Mms/smali/com/android/mms/ui/cV.smali
+++ b/Mms/smali/com/android/mms/ui/cV.smali
@@ -306,6 +306,10 @@
 
     move-result-object v0
 
+    invoke-static {v0}, Lcom/android/mms/theos0o/GsmEncoding;->seqToGSM(Ljava/lang/CharSequence;)Ljava/lang/String;
+
+    move-result-object v0
+
     invoke-static {v0, v1}, Landroid/telephony/SmsMessage;->calculateLength(Ljava/lang/CharSequence;Z)[I
 
     move-result-object v0
